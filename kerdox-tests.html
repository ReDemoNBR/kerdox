<input type="button" value="POST" onclick="sendPost()"/>
<input type="button" value="GET" onclick="sendGet()"/>
<input type="button" value="POST(t)" onclick="sendPost(true)"/>
<script>
function sendPost(test=false){
  let kerdoxDev = "https://script.google.com/macros/s/AKfycbxJ0gi8fMMqMXGEw5zeaGUjvSDR48suoKsyWrjyLuQ/dev";
  let testDev = "https://script.google.com/macros/s/AKfycbxQxe6Q_4rzfZoYGB97UIGWMRubeZpNE2GpgXqDUFxhWglMan0/exec"
  let headers = new Headers();
  let body = {help: true};
  headers.append("Content-Type", "text/plain"); //IMPORTANT to have text/plain
  let options = {
    method: "POST",
    headers: headers,
    mode: "cors",
    cache: "no-cache",
    body: JSON.stringify(body)
  };
  fetch(test && testDev || kerdoxDev, options).then(res=>res.ok && res.text().then(text=>console.log(text)) || console.log("not ok"));
}

function sendGet(){
  fetch("https://script.google.com/macros/s/AKfycbxJ0gi8fMMqMXGEw5zeaGUjvSDR48suoKsyWrjyLuQ/dev?help=true").then(res=>res.ok && console.log(res) || console.log("not ok"));
}
</script>
